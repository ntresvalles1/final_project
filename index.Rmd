---
title: "Bicycle Trails and Accidents in New York City"
author: "Nicole Tresvalles, Karen Galvan"
date: "Last updated on `r Sys.Date()`"
output:
  html_document:
    toc: true
    toc_depth: 2
    toc_float: true
    df_print: kable
---

<!-- put space --> 

<p>&nbsp;</p>

# Bike Routes and Accidents in NYC

### Where are the routes?
Biking is an integral part of New York City's modes of transportation. Over the decades, city officials have invested in biking infrastructure, and as of 2020, there are 1,375 miles of bike lanes have been installed, 546 of them being protected. Since 2009, NYC has seen a growth in daily cycling of 110% to 2019 - a figure likely to grow as an increasing population of commuters begin to turn to biking as an alternative to crowded subway spaces.^[https://www1.nyc.gov/html/dot/downloads/pdf/cycling-in-the-city-2021.pdf] 

However, the biking commute is not rosy - unfortunately, the city sees a number of cyclist injuries and deaths every year as a result of motor vehicle collisions. In fact, 2019 saw a total of 28 deaths, the deadliest year for cyclists in two decades.^[https://www.nytimes.com/2020/03/14/nyregion/coronavirus-nyc-bike-commute.html]. Spurred into action by these casualties, New York City officials announced the “Green Wave” safety plan, with its goal to increase the number of practiced bike lanes miles annually. 

Thus, our project seeks to visualize when, where, and why these accidents are happening in a pre and post-COVID world and analyze how "Green Wave" has affected cyclists since its implementation. 

```{r, echo = FALSE, message = FALSE, warning=FALSE}
library(tidyverse)
library(sf)
library(httr)
library(jsonlite)
library(usethis)
library(devtools)
library(dplyr)
remotes::install_github("mfherman/nycgeo")
library(nycgeo)
library(leaflet)
library(lubridate)
library(readr)
library(classInt)
library(patchwork)
library(stringr)
```


```{r, echo = FALSE, message = FALSE, warning=FALSE}
#Filtered nyc accidents to bicyclist--------------
nyc_accidents_filtered = readr::read_csv("Motor_Vehicle_Collisions_-_Person.csv") %>% 
  filter(PERSON_TYPE == "Bicyclist")

people_injured <- nyc_accidents_filtered %>% 
  filter(PERSON_INJURY == "Injured") 

#SF for Bike Routes--------------
bike_routes <- "nyc_bike_routes" %>% 
  read_sf()

#Maps for the boroughs--------------
borough_ntas <- nyc_boundaries(
  geography = "nta",
  filter_by = "borough",
  region = c("brooklyn", "queens", "manhattan", "staten island", "bronx")
  )
```


```{r, echo = FALSE, message = FALSE, warning=FALSE}
# Bike routes map

ggplot() +
  geom_sf(data= borough_ntas) +
  geom_sf(data = bike_routes, col = "blue") +
  theme(panel.background = element_rect(fill = "aliceblue"))
```

